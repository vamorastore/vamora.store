<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;600&display=swap" rel="stylesheet"/>
    <style>
        /* All the styles from the original nav.html */
        /* ... */
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <button class="mobile-menu-button" id="mobileMenuButton">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="flex items-center logo-container">
                <img alt="Company logo, a stylized representation of the company initials" class="h-12 w-auto" src="https://media-hosting.imagekit.io/57a79640510a4ff0/vamora.png?Expires=1837897542&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=QkL74gCaBuN~AToq3beDuhfdO~cKOgikij8ylI8~YZn23B~-0-97W5k2lILxR6JH-kYE13sXT20s8dDYw7Bd6BAeqpO87qpxQ4i2fLyJeZOzJKquT~sqbkrYOZ~-HSTi2FgIOuAGnQRLZQJSWFynKk6gZf1c3M1lQ0O6uKTGQ8rMBXQ8vCfaaBb2kz~aOy2Ba2t86W4B6ypKCMRlBKcLoKJ5e0ykjBN58KBklMEfbZDM5eywdTs2XYhtfp7bcWghzLLbpJGyD585JBDVgF6gMV2KLnbvoW18cdXQOfyiLNNxt-UbJxIQUi6U5GNU-qHdrLaKvynAhNLWA0hWed6tkA__"/>
                <span class="logo-text">VAMORA.STORE</span>
            </div>
            
            <div class="flex items-center space-x-2 nav-icons">
                <!-- Include Search System -->
                <div id="search-system-placeholder"></div>
                <div class="icon-separator"></div>
                
                <!-- Include Account System -->
                <div id="account-system-placeholder"></div>
                <div class="icon-separator"></div>
                
                <!-- Cart Icon (Cart System will handle the overlay) -->
                <div class="relative">
                    <a class="text-black nav-link" id="cartIconNav" style="cursor: pointer;">
                        <i class="fas fa-shopping-cart icon"></i>
                        <span class="cart-count" id="cartCount"></span>
                    </a>
                </div>
            </div>
            
            <div class="nav-links">
                <a class="text-black nav-link" href="index.html">HOME</a>
                <a class="text-black nav-link active" href="shop.html">SHOP</a>
                <a class="text-black nav-link" href="about.html">ABOUT</a>
                <a class="text-black nav-link" href="contact.html">CONTACT</a>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Content -->
    <div class="mobile-menu-content" id="mobileMenuContent">
        <div class="mobile-menu-links">
            <a class="text-black nav-link" href="index.html">HOME</a>
            <a class="text-black nav-link active" href="shop.html">SHOP</a>
            <a class="text-black nav-link" href="about.html">ABOUT</a>
            <a class="text-black nav-link" href="contact.html">CONTACT</a>
        </div>
        <div class="mobile-menu-social">
            <a class="text-black" href="#"><i class="fab fa-instagram"></i></a>
            <a class="text-black" href="#"><i class="fab fa-facebook-f"></i></a>
        </div>
    </div>

    <!-- Include Cart System (for overlay) -->
    <div id="cart-system-placeholder"></div>

    <script>
        // Mobile menu toggle
        function toggleMobileMenu() {
            // If mobile menu is already open, close it
            if (mobileMenuContent.classList.contains('active')) {
                mobileMenuContent.classList.remove('active');
                mobileMenuButton.querySelector('i').classList.add('fa-bars');
                mobileMenuButton.querySelector('i').classList.remove('fa-times');
                return;
            }
            
            // Otherwise, close other elements and open mobile menu
            closeAllOpenElements();
            mobileMenuContent.classList.add('active');
            mobileMenuButton.querySelector('i').classList.remove('fa-bars');
            mobileMenuButton.querySelector('i').classList.add('fa-times');
        }

        // Function to close all open elements
        function closeAllOpenElements() {
            // Close cart
            if (typeof closeCart === 'function' && window.cartOpen) {
                closeCart();
            }
            
            // Close search
            if (window.searchOpen) {
                document.querySelector('.search-input-container').style.display = 'none';
                window.searchOpen = false;
            }
            
            // Close dropdown menu
            if (window.dropdownOpen) {
                document.getElementById('dropdownMenu').classList.add('hidden');
                window.dropdownOpen = false;
            }
            
            // Close mobile menu
            if (mobileMenuContent.classList.contains('active')) {
                mobileMenuContent.classList.remove('active');
                mobileMenuButton.querySelector('i').classList.add('fa-bars');
                mobileMenuButton.querySelector('i').classList.remove('fa-times');
            }
        }

        // Load all systems
        document.addEventListener('DOMContentLoaded', function() {
            // Load Search System
            fetch('search-system.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('search-system-placeholder').innerHTML = data;
                });
            
            // Load Account System
            fetch('account-system.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('account-system-placeholder').innerHTML = data;
                });
            
            // Load Cart System
            fetch('cart-system.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('cart-system-placeholder').innerHTML = data;
                });
        });

        // Mobile menu event listener
        document.getElementById('mobileMenuButton').addEventListener('click', toggleMobileMenu);
    </script>
</body>
</html>
