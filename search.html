<div class="search-container">
    <a class="text-black nav-link" id="enableSearch">
        <i class="fas fa-search icon"></i>
    </a>
    <div class="search-input-container">
        <input type="text" class="search-input" placeholder="Search products..." id="searchInput">
        <span class="search-close" id="closeSearch">&times;</span>
        <span class="search-icon" id="searchButton">
            <i class="fas fa-search"></i>
        </span>
    </div>
    <div class="search-results" id="searchResults"></div>
</div>

<style>
    .search-container {
        position: relative;
        display: inline-block;
    }
    
    .search-results {
        position: absolute;
        top: 100%;
        left: 0;
        width: 180px;
        max-height: 400px;
        overflow-y: auto;
        background: white;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        z-index: 100;
        display: none;
    }
    
    .search-result-item {
        padding: 10px 15px;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    
    .search-result-item:hover {
        background-color: #f5f5f5;
    }
    
    .search-result-item .title {
        font-weight: 600;
        margin-bottom: 3px;
        font-size: 0.9rem;
    }
    
    .search-result-item .category {
        font-size: 0.8em;
        color: #666;
    }
    
    .no-results {
        padding: 10px 15px;
        color: #666;
        font-size: 0.9em;
        text-align: center;
    }
    
    .search-input-container {
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        display: none;
    }
    
    .search-input {
        padding: 8px 15px;
        padding-right: 35px;
        border: 1px solid #ddd;
        border-radius: 20px;
        width: 180px;
        outline: none;
        transition: width 0.3s;
    }
    
    .search-input:focus {
        width: 220px;
        border-color: #999;
    }
    
    .search-icon {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
    }
    
    .search-close {
        position: absolute;
        right: 35px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #999;
    }
    
    .search-close:hover {
        color: #333;
    }

    @media (max-width: 768px) {
        .search-input-container {
            position: fixed;
            top: 80px;
            left: 0;
            right: 0;
            width: 100%;
            padding: 10px;
            background: #e5e5e5;
            z-index: 60;
        }
        
        .search-input {
            width: calc(100% - 50px);
            padding: 10px 45px 10px 15px;
        }
        
        .search-input:focus {
            width: calc(100% - 50px);
        }
        
        .search-results {
            position: fixed;
            top: 140px;
            left: 10px;
            right: 10px;
            width: calc(100% - 20px);
        }
        
        .search-close {
            right: 45px;
        }
        
        .search-icon {
            right: 20px;
        }

        .no-results {
            padding: 15px;
            font-size: 1em;
        }
    }
</style>

<script>
    const searchData = [
        { id: 1, title: "Men's T-Shirt", category: "Clothing", url: "/products/mens-tshirt" },
        { id: 2, title: "Women's Jeans", category: "Clothing", url: "/products/womens-jeans" },
        { id: 3, title: "Running Shoes", category: "Footwear", url: "/products/running-shoes" },
        { id: 4, title: "Smart Watch", category: "Electronics", url: "/products/smart-watch" },
        { id: 5, title: "Backpack", category: "Accessories", url: "/products/backpack" },
        { id: 6, title: "Wireless Headphones", category: "Electronics", url: "/products/headphones" },
        { id: 7, title: "Sunglasses", category: "Accessories", url: "/products/sunglasses" },
        { id: 8, title: "Dress", category: "Clothing", url: "/products/dress" }
    ];

    const enableSearch = document.getElementById('enableSearch');
    const searchInput = document.getElementById('searchInput');
    const searchResults = document.getElementById('searchResults');
    const closeSearch = document.getElementById('closeSearch');
    const searchButton = document.getElementById('searchButton');
    const searchInputContainer = document.querySelector('.search-input-container');

    let searchOpen = false;

    enableSearch.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        if (searchOpen) {
            searchInputContainer.style.display = 'none';
            searchOpen = false;
            return;
        }
        
        searchOpen = true;
        searchInputContainer.style.display = 'block';
        searchInput.focus();
    });

    closeSearch.addEventListener('click', function() {
        searchInputContainer.style.display = 'none';
        searchInput.value = '';
        searchResults.style.display = 'none';
        searchOpen = false;
    });

    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        
        if (query.length < 2) {
            searchResults.style.display = 'none';
            return;
        }
        
        const results = searchData.filter(item => 
            item.title.toLowerCase().includes(query) || 
            item.category.toLowerCase().includes(query)
        );
        
        displayResults(results);
    });

    searchButton.addEventListener('click', function() {
        const query = searchInput.value.toLowerCase();
        
        if (query.length < 2) {
            searchResults.style.display = 'none';
            return;
        }
        
        const results = searchData.filter(item => 
            item.title.toLowerCase().includes(query) || 
            item.category.toLowerCase().includes(query)
        );
        
        displayResults(results);
    });

    function displayResults(results) {
        if (results.length === 0) {
            searchResults.innerHTML = '<div class="no-results">No results found</div>';
            searchResults.style.display = 'block';
            return;
        }
        
        searchResults.innerHTML = results.map(item => `
            <div class="search-result-item" data-url="${item.url}">
                <div class="title">${item.title}</div>
                <div class="category">${item.category}</div>
            </div>
        `).join('');
        
        searchResults.style.display = 'block';
        
        document.querySelectorAll('.search-result-item').forEach(item => {
            item.addEventListener('click', function() {
                const url = this.getAttribute('data-url');
                window.location.href = url;
            });
        });
    }

    document.addEventListener('click', function(e) {
        if (!e.target.closest('.search-container') && !e.target.closest('.search-input-container')) {
            searchResults.style.display = 'none';
        }
    });

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            searchResults.style.display = 'none';
        }
    });
</script>
